<!--
~ Copyright Â© 2013 VillageReach.  All Rights Reserved.  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
~
~ If a copy of the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.
-->

<div class="refrigerator-container" ng-controller="RefrigeratorController">
  <h3>Refrigerators
    <a href="" class="btn btn-primary pull-right" ng-click="showAddRefrigeratorModal()"
       openlmis-message="button.add.new"></a>
  </h3>

  <div class="list-header-container">
    <div class="list-header row-fluid">
      <div class="span1"></div>
      <div class="span2">Brand</div>
      <div class="span3">Model</div>
      <div class="span3">Manufacturer serial number</div>
      <div class="span3"></div>
    </div>
  </div>
  <div class="list-container">
    <div class="list-row" ng-repeat="refrigerator in refrigerators">
      <div class="row-fluid is-empty">
        <div class="span1">
          <span class="status-icon"></span>
        </div>
        <div class="span2" ng-bind="refrigerator.brand"></div>
        <div class="span3" ng-bind="refrigerator.model"></div>
        <div class="span3" ng-bind="refrigerator.serialNumber"></div>
        <div class="span3">
          <span class="pull-right">
            <a href="" class="btn btn-primary" ng-click="editRefrigerator(refrigerator)" ng-hide="edit" openlmis-message="button.edit"></a>
            <a href="" class="btn btn-danger" openlmis-message="button.delete"></a>
          </span>
        </div>
      </div>
      <div ng-show="edit" class="row-fluid">
        <ng-include src="'/public/pages/logistics/distribution/partials/refrigerator-reading.html'"></ng-include>
      </div>
      <div ng-show="edit" class="row-fluid">
        <a href="" id="refrigeratorReadingDone" class="btn btn-primary" ng-click="closeRefrigeratorEdit()"
           openlmis-message="button.done"></a>
      </div>
    </div>
  </div>

  <div id="addRefrigeratorModal" modal="addRefrigeratorModal" options="{ backdrop: 'static', escape: false}">
    <div class="modal-header">
      <h3>New Refrigerator</h3>
    </div>

    <div class="modal-body">
      <div class="row-fluid">
        <div class="span12">
          <label for="brand">Brand
            <span class="label-required">*</span>
          </label>
          <input type="text" id="brand" ng-model="newRefrigerator.brand"/>
        </div>
      </div>

      <div class="row-fluid">
        <div class="span12">
          <label for="model">Model
            <span class="label-required">*</span>
          </label>
          <input type="text" id="model" ng-model="newRefrigerator.model"/>
        </div>
      </div>

      <div class="row-fluid">
        <div class="span12">
          <label for="manufacturerSerialNumber">ManufacturerSerialNumber
            <span class="label-required">*</span>
          </label>
          <input type="text" id="manufacturerSerialNumber" ng-model="newRefrigerator.serialNumber"/>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <a href="" class="btn btn-primary" ng-click="addRefrigeratorToStore()" openlmis-message="button.done"></a>
      <a href="" class="btn btn-cancel" ng-click="closeRefrigeratorModal()" openlmis-message="button.cancel"></a>
    </div>

  </div>
  <!--<div class="modal-backdrop" ng-show="addRefrigeratorModal"></div>-->
</div>
