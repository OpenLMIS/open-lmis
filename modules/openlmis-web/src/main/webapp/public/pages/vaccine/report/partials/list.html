<!--
  ~ This program was produced for the U.S. Agency for International Development. It was prepared by the USAID | DELIVER PROJECT, Task Order 4. It is part of a project which utilizes code originally licensed under the terms of the Mozilla Public License (MPL) v2 and therefore is licensed under MPL v2 or later.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the Mozilla Public License as published by the Mozilla Foundation, either version 2 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Mozilla Public License for more details.
  ~
  ~ You should have received a copy of the Mozilla Public License along with this program. If not, see http://www.mozilla.org/MPL/
  -->

<div>

  <h2><span openlmis-message="label.vaccine.report.init.title"></span></h2>

  <hr />

  <div class="row-fluid">
    <div class="span12">
      <label openlmis-message="label.program"></label>
    </div>
  </div>
  <div class="row-fluid">
    <select ui-select2
            id="programListMyFacility" class="span3"
          ng-model="filter.program"   ng-change="onProgramChanged()">
      <option>Select Program</option>
      <option value="{{program.id}}" ng-repeat="program in programs">{{program.name}}</option>
    </select>
  </div>
  <div class="row-fluid">
    <div class="span12">
      <label openlmis-message="label.facility"></label>
    </div>
  </div>
  <div class="row-fluid">
    <select ui-select2
            id="facility" class="span3"
           ng-model="filter.facility"  ng-change="onFacilityChanged()">
      <option>Select Facility</option>
      <option value="{{facility.id}}" ng-repeat="facility in facilities">{{facility.name}}</option>

    </select>
  </div>

  <div class="row-fluid" ng-show="filter.facility && filter.program">
    <div class="span6">
      <table class="table table-scrollable">
        <thead>
          <tr>
            <th><span openlmis-message="label.vaccine.report.init.period"></span></th>
            <th><span openlmis-message="label.vaccine.report.init.status"></span></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
        <tr ng-repeat="period in periods">
          <td>{{period.periodName}}</td>
          <td>{{period.status? period.status : 'Not Initiated'}}</td>
          <td>
            <span ng-show="$index == 0">
              <a class="btn btn-primary" href="" ng-click="initiate(period)">Proceed</a>
            </span>
          </td>
        </tr>

        </tbody>
      </table>
    </div>
  </div>
  <div class="row-fluid" ng-show="error">
    <div class="span12">
      <div class="alert alert-error" id="saveSuccessMsgDiv"
           openlmis-message="error" ng-show="error"></div>
    </div>
  </div>

</div>