<div>
    <div id="control-bar">

        <h3 class="report-title" openlmis-message="title.stock.out.all.report"></h3>

        <div ng-include="'/public/pages/reports/mozambique/product-report-selection.html'"></div>

        <div class="report-selection">
            <input type="submit" class="btn btn-primary" ng-click="loadReport()"
                   openlmis-message="button.generateReport"/>
        </div>

        <div style="clear: both"></div>

    </div>

    <hr/>

    <date-picker-container  show-incomplete-warning="{{showIncompleteWarning}}" get-time-range = "getTimeRange(dateRange)"></date-picker-container>
    <hr/>

    <div id="report" ng-if="reportData.length > 0">
        <h3 class="report-title" openlmis-message="subtitle.stock.out.report|reportParams.reportTitle"></h3>

        <table class="table table-condensed table-bordered table-striped">
            <tr class="gradient-header">
                <th ng-click="sortType = 'code'; sortReverse = !sortReverse" class="sortable sort-desc"
                    openlmis-message="code">
                    <span ng-show="sortType != 'code'" class="icon-sort"></span>
                    <span ng-show="sortType == 'code' && !sortReverse" class="icon-sort-up"></span>
                    <span ng-show="sortType == 'code' && sortReverse" class="icon-sort-down"></span></th>
                <th ng-click="sortType = 'name'; sortReverse = !sortReverse" class="sortable sort-desc"
                    openlmis-message="report.drug.name">
                    <span ng-show="sortType != 'name'" class="icon-sort"></span>
                    <span ng-show="sortType == 'name' && !sortReverse" class="icon-sort-up"></span>
                    <span ng-show="sortType == 'name' && sortReverse" class="icon-sort-down"></span></th>
                <th ng-click="sortType = 'average_days'; sortReverse = !sortReverse" class="sortable sort-desc"
                    openlmis-message="report.stock.out.avg.duration">
                    <span ng-show="sortType != 'average_days'" class="icon-sort"></span>
                    <span ng-show="sortType == 'average_days' && !sortReverse" class="icon-sort-up"></span>
                    <span ng-show="sortType == 'average_days' && sortReverse" class="icon-sort-down"></span></th>
                <th ng-click="sortType = 'record_count'; sortReverse = !sortReverse" class="sortable sort-desc">
                    {{occurrencesHeader}}
                    <span ng-show="sortType != 'record_count'" class="icon-sort"></span>
                    <span ng-show="sortType == 'record_count' && !sortReverse" class="icon-sort-up"></span>
                    <span ng-show="sortType == 'record_count' && sortReverse" class="icon-sort-down"></span></th>
                <th ng-click="sortType = 'duration'; sortReverse = !sortReverse" class="sortable sort-desc"
                    openlmis-message="report.stock.out.total">
                    <span ng-show="sortType != 'duration'" class="icon-sort"></span>
                    <span ng-show="sortType == 'duration' && !sortReverse" class="icon-sort-up"></span>
                    <span ng-show="sortType == 'duration' && sortReverse" class="icon-sort-down"></span></th>
            </tr>

            <tr ng-repeat="entry in reportData | orderBy:sortType:sortReverse">
                <td>{{entry.code}}</td>
                <td style="text-align: left"><a href="javascript:void(0);">{{entry.name}}</a></td>
                <td>{{entry.monthlyAvg | number:1}}</td>
                <td>{{entry.monthlyOccurrences | number:1}}</td>
                <td>{{entry.totalDuration}}</td>
            </tr>
        </table>
    </div>
    <label ng-show="reportData && reportData.length == 0">No Data</label>

</div>
