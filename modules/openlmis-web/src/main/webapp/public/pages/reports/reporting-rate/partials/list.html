<!--
  ~ This program was produced for the U.S. Agency for International Development. It was prepared by the USAID | DELIVER PROJECT, Task Order 4. It is part of a project which utilizes code originally licensed under the terms of the Mozilla Public License (MPL) v2 and therefore is licensed under MPL v2 or later.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the Mozilla Public License as published by the Mozilla Foundation, either version 2 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Mozilla Public License for more details.
  ~
  ~ You should have received a copy of the Mozilla Public License along with this program. If not, see http://www.mozilla.org/MPL/
  -->

    <div class="row-fluid sortable ui-sortable">
            <div class="box span12">
                <div class="box-header">
                    <h2>Reporting Rate Report</h2>
                </div>
             <filters>

                <program-filter class="form-cell horizontalFilters"></program-filter>
                <schedule-filter class="form-cell horizontalFilters"></schedule-filter>
                <year-filter class="form-cell horizontalFilters"></year-filter>
                <period-filter class="form-cell horizontalFilters"></period-filter>
                <div class="form-cell horizontalFilters">
                    <label class="labels">Indicator</label>
                    <select class="width: 400px;" ui-select2 ng-model="indicator_type" ng-change="OnFilterChanged()" >
                        <option ng-repeat="type in indicator_types" value="{{type.code}}">{{type.name}}</option>
                    </select>
                </div>
            </filters>
   </div>
    <div class="clear-both"></div>

    <div class="clear-both"></div>
    &nbsp;
    <div class="row">
        <div class="span8">
            <div style="padding-left: 30px;">
                <leaflet  width="100%" height="600px" geojson="geojson" layers="layers"></leaflet>
            </div>
        </div>
        <div class="span4">
            <table ng-table="tableParams" class="table table-striped" ng-show="features && (features | filter:expectedFilter).length > 0">
                <thead>
                <tr>
                    <th>District</th>
                    <th>Expected</th>
                    <th>Reported</th>
                    <th style="width: 150px;">% Reported</th>
                </tr>
                </thead>
                <tr ng-repeat="feature in features | filter:expectedFilter">
                    <td>{{feature.name}}</td>
                    <td class="number">{{feature.expected}}</td>
                    <td class="number">{{feature.period}}</td>
                    <td>
                        <div class="number" style="float:right;" >{{((feature.period / feature.expected) * 100).toFixed(0)}} %</div>
                        <div class="progress" style="margin-bottom:0px;width:68%">
                            <div class="bar bar-success leaflet-clickable" ng-click="ReportingFacilities(feature)" style="width: {{((feature.period / feature.expected) * 100).toFixed(2)}}%"></div>
                            <div class="bar bar-danger leaflet-clickable"  ng-click="NonReportingFacilities(feature)" style="width: {{(100 - ((feature.period / feature.expected) * 100).toFixed(2))}}%"></div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
  </div>

</div>
