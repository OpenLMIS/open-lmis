<div>
    <div id="control-bar">

        <h3 class="report-title" openlmis-message="title.stock.out.single.report"></h3>

        <div class="report-selection">
            <label class="labels" openlmis-message="label.drug"></label>

            <div class="form-fields">
                <select ui-select2 style="width:320px;" class="large-input" name="selectedProduct"
                        ng-model="reportParams.productCode">
                    <option ng-repeat="option in products" value="{{option.code}}">{{option.name}}
                        [{{option.code}}]
                    </option>
                </select>
                <span class="field-error" ng-show="invalid" openlmis-message="report.missing.product"></span>
            </div>
            <br>
            <div><label openlmis-message="label.stock.out.top.message"/></div>
        </div>

        <div class="report-selection">
            <input type="submit" class="btn btn-primary" ng-click="loadReport()"
                   openlmis-message="button.generateReport"/>
        </div>

        <div style="clear: both"></div>

    </div>

    <hr/>

    <date-picker-container get-time-range="getTimeRange(dateRange)"  picker-type="period"></date-picker-container>

    <hr/>

    <div ng-if="tree_data">
        <h3 class="report-title" openlmis-message="subtitle.stock.out.single.report|selectedProduct.name"></h3>

        <tree-grid tree-data="tree_data" col-defs="col_defs" expand-on="expanding_property" expand-level="1"
                   product="selectedProduct" view-stock-movement-toggle="viewStockMovementToggle"
                   icon-leaf="glyphicon" on-expanded="onExpanded(branch)"
                   on-chart-place-holder-shown="onChartPlaceHolderShown(branch)">

        </tree-grid>
    </div>

    <label ng-show="tree_data && tree_data.length == 0">No Data</label>
    <label class="stock-out-report-buttom-msg" openlmis-message="label.stock.out.bottom.message"></label>
</div>
